{"version":3,"sources":["components/feuille.js","components/popup.js","App.js","index.js"],"names":["feuille","children","className","popup","props","close","callback","showPopup","onClick","e","message","popupType","App","useState","donnees","setstate","setShowPopup","popupMessage","setPopupMessage","setPopupType","useEffect","axios","get","then","response","data","latestCity","marquesdata","map","item","ville","nom","length","push","city","marques","state","onDragEnd","result","destination","source","index","console","log","items","Array","from","splice","reorderedItem","droppableId","provided","droppableProps","ref","innerRef","draggableId","draggableProps","dragHandleProps","marque","nb_employe","placeholder","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAEe,SAASA,EAAT,GAA8B,IAAZC,EAAW,EAAXA,SAC7B,OACI,qBAAKC,UAAU,UAAf,SACKD,ICHE,SAASE,EAAMC,GAE1B,IAAMC,EAAM,WACRD,EAAME,UAAS,IAGnB,OACI,mCACKF,EAAMG,WACH,qBAAKL,UAAU,QAAf,SACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,eAAeM,QAAS,SAACC,GAAKJ,KAA7C,oBACA,qBAAKH,UAAU,aAAf,SAA6BE,EAAMM,UACnC,qBAAKR,UAAW,cAAkC,WAApBE,EAAMO,UAAyB,SAAS,QAAtE,SACI,qBAAKH,QAAS,SAACC,GAAKJ,KAApB,yBCmHbO,MA3Hf,WAAgB,IAAD,EAEeC,mBAAS,IAFxB,mBAENC,EAFM,KAEGC,EAFH,OAGkBF,oBAAS,GAH3B,mBAGNN,EAHM,KAGIS,EAHJ,OAIwBH,mBAAS,qFAJjC,mBAINI,EAJM,KAIOC,EAJP,OAKkBL,mBAAS,IAL3B,mBAKNF,EALM,KAKIQ,EALJ,KAqEb,OA9DAC,qBAAU,WACRL,EAAS,IACTI,EAAa,QAEbE,IAAMC,IAAI,kCACTC,MAAK,SAAAC,GAEJ,IAAIC,EAAO,GACPC,EAAW,GACXC,EAAY,GAEhBH,EAASC,KAAKG,KAAI,SAACC,GAEdH,IAAaG,EAAKC,MAAMC,MAGD,IAArBJ,EAAYK,SAEbP,EAAKQ,KAAK,CAACC,KAAKR,EAAWS,QAASR,IAEpCA,EAAY,IAIdD,EAAWG,EAAKC,MAAMC,KAIxBJ,EAAYM,KAAKJ,MAGnBJ,EAAKQ,KAAK,CAACC,KAAKR,EAAWS,QAASR,IAGpCZ,EAASU,QAIX,IAyBA,sBAAKvB,UAAU,MAAf,UACE,cAAC,EAAD,CACEK,UAAWA,EACXD,SAAY,SAAC8B,GAASpB,EAAaoB,IACnC1B,QAAWO,EACXN,UAAaA,IAEf,yBAAQT,UAAU,SAAlB,UACE,6DACA,uDAGF,sBAAMA,UAAU,OAAhB,SACE,cAAC,IAAD,CAAiBmC,UApCA,SAACC,GACtB,GAAKA,EAAOC,YAAZ,CACA,GAAGD,EAAOE,OAAOC,MAAQH,EAAOC,YAAYE,MAI1C,OAHAtB,EAAa,UACbH,GAAa,QACbE,EAAgB,wCAGlBwB,QAAQC,IAAIL,EAAOE,QACnBE,QAAQC,IAAI,iBAAiBL,EAAOC,aACpC,IAAMK,EAAQC,MAAMC,KAAKhC,GAVM,EAWP8B,EAAMG,OAAOT,EAAOE,OAAOC,MAAO,GAAnDO,EAXwB,oBAY/BJ,EAAMG,OAAOT,EAAOC,YAAYE,MAAO,EAAGO,GAE1CjC,EAAS6B,KAsBL,SACE,cAAC,IAAD,CAAWK,YAAY,QAAvB,SACG,SAACC,GAAD,OAEC,8CAAKhD,UAAU,SAAYgD,EAASC,gBAApC,IAAoDC,IAAKF,EAASG,SAAlE,UACGvC,EAAQc,KAAI,SAACgB,EAAMH,GAClB,OACE,cAAC,IAAD,CAAwBa,YAAa,GAAGb,EAAOA,MAAOA,EAAtD,SACG,SAACS,GAAD,OACC,0DAAKhD,UAAU,MAAMkD,IAAKF,EAASG,UAAcH,EAASK,gBAAoBL,EAASM,iBAAvF,cACE,qBAAKtD,UAAU,SAAf,SAAwB,cAAC,EAAD,UAAU0C,EAAMV,SACvCU,EAAMT,QAAQP,KAAI,SAACC,GAClB,OACE,qBAAK3B,UAAU,OAAf,SACE,sBAAMA,UAAU,QAAhB,UACE,cAAC,EAAD,UAAU2B,EAAK4B,OAAO1B,MACtB,cAAC,EAAD,UAAUF,EAAK6B,2BATZjB,MAqBpBS,EAASS,2BCnH1BC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d02cd21f.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function feuille({children}) {\n    return (\n        <div className=\"feuille\">\n            {children}\n        </div>\n    )\n}\n","import React ,{useState} from 'react'\n\nexport default function popup(props) {\n\n    const close=()=>{\n        props.callback(false)\n    }\n\n    return (\n        <>\n            {props.showPopup && \n                <div className=\"popup\">\n                    <div className=\"popup-alert\">\n                        <div className=\"popup-dimiss\" onClick={(e)=>{close()}}>&#x2715;</div>\n                        <div className=\"popup-text\">{props.message}</div>\n                        <div className={\"popup-btn \"+(props.popupType === \"danger\" ? \"danger\":\"safe\")}>\n                            <div onClick={(e)=>{close()}}>OK</div>\n                        </div>\n                    </div>\n                </div>\n            }\n        </>\n\n    )\n}\n","import { useState ,useEffect} from 'react';\nimport axios from 'axios'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nimport './App.css';\nimport Feuille from './components/feuille';\nimport Popup from './components/popup';\n\nfunction App() {\n\n  const [donnees, setstate] = useState([])\n  const [showPopup,setShowPopup]=useState(true)\n  const [popupMessage,setPopupMessage]=useState(\"Bonjour!!! Bienvenu sur mon texte technique. Prenez plaisir à le découvrir.\")\n  const [popupType,setPopupType]=useState(\"\")\n\n  useEffect(()=>{\n    setstate([])\n    setPopupType(\"safe\")\n    \n    axios.get('http://localhost:8000/employes')\n    .then(response => {\n\n      let data = []\n      let latestCity=\"\"\n      let marquesdata=[]\n\n      response.data.map((item) => {\n\n        if(latestCity!==item.ville.nom){\n\n          \n          if(marquesdata.length!==0){\n            \n            data.push({city:latestCity,marques: marquesdata})\n            \n            marquesdata=[]\n            \n          }\n\n          latestCity=item.ville.nom\n\n        }\n\n        marquesdata.push(item)\n\n      })\n      data.push({city:latestCity,marques: marquesdata})\n\n\n      setstate(data)\n\n    })\n\n  },[])\n\n  const handleOnDragEnd =(result)=>{\n    if (!result.destination) return;\n    if(result.source.index > result.destination.index){\n      setPopupType(\"danger\")\n      setShowPopup(true)\n      setPopupMessage(\" Ce mouvement n'est pas autorisé.\")\n      return;\n    } \n    console.log(result.source)\n    console.log(\"destination : \"+result.destination)\n    const items = Array.from(donnees);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n    \n    setstate(items);\n  }\n\n\n\n\n  \n  \n  return (\n    <div className=\"App\">\n      <Popup\n        showPopup={showPopup}\n        callback = {(state)=>{setShowPopup(state)}}\n        message = {popupMessage}\n        popupType = {popupType}\n      />\n      <header className=\"header\">\n        <div>Test technique SustainEcho</div>\n        <div>Prince Nick BALLO</div>\n\n      </header>\n      <main className=\"body\">\n        <DragDropContext onDragEnd={handleOnDragEnd}>\n          <Droppable droppableId=\"boxes\" >\n            {(provided)=>(\n\n              <div className=\"boxes\" {...provided.droppableProps} ref={provided.innerRef}>\n                {donnees.map((items,index) => {\n                  return(\n                    <Draggable  key={index} draggableId={\"\"+index} index={index} >\n                      {(provided)=>(\n                        <div className=\"box\" ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                          <div className=\"parent\"><Feuille>{items.city}</Feuille></div>\n                          {items.marques.map((item) => {\n                            return(\n                              <div className=\"fils\">\n                                <div  className=\"ligne\">\n                                  <Feuille>{item.marque.nom}</Feuille>\n                                  <Feuille>{item.nb_employe}</Feuille>\n                                </div>\n                              </div>\n                            )})\n                          }\n                        </div>\n\n                      )}\n                    </Draggable>\n                    \n                  )})\n                }\n                {provided.placeholder}\n                \n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n   \n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}