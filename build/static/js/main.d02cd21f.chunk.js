(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{43:function(e,c,n){},49:function(e,c,n){"use strict";n.r(c);var t=n(0),s=n.n(t),i=n(3),a=n.n(i),r=n(5),o=n(4),l=n(19),d=n.n(l),j=n(6),u=(n(43),n(1));function p(e){var c=e.children;return Object(u.jsx)("div",{className:"feuille",children:c})}function b(e){var c=function(){e.callback(!1)};return Object(u.jsx)(u.Fragment,{children:e.showPopup&&Object(u.jsx)("div",{className:"popup",children:Object(u.jsxs)("div",{className:"popup-alert",children:[Object(u.jsx)("div",{className:"popup-dimiss",onClick:function(e){c()},children:"\u2715"}),Object(u.jsx)("div",{className:"popup-text",children:e.message}),Object(u.jsx)("div",{className:"popup-btn "+("danger"===e.popupType?"danger":"safe"),children:Object(u.jsx)("div",{onClick:function(e){c()},children:"OK"})})]})})})}var h=function(){var e=Object(t.useState)([]),c=Object(o.a)(e,2),n=c[0],s=c[1],i=Object(t.useState)(!0),a=Object(o.a)(i,2),l=a[0],h=a[1],O=Object(t.useState)("Bonjour!!! Bienvenu sur mon texte technique. Prenez plaisir \xe0 le d\xe9couvrir."),m=Object(o.a)(O,2),x=m[0],f=m[1],v=Object(t.useState)(""),g=Object(o.a)(v,2),N=g[0],y=g[1];return Object(t.useEffect)((function(){s([]),y("safe"),d.a.get("http://localhost:8000/employes").then((function(e){var c=[],n="",t=[];e.data.map((function(e){n!==e.ville.nom&&(0!==t.length&&(c.push({city:n,marques:t}),t=[]),n=e.ville.nom),t.push(e)})),c.push({city:n,marques:t}),s(c)}))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{showPopup:l,callback:function(e){h(e)},message:x,popupType:N}),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{children:"Test technique SustainEcho"}),Object(u.jsx)("div",{children:"Prince Nick BALLO"})]}),Object(u.jsx)("main",{className:"body",children:Object(u.jsx)(j.a,{onDragEnd:function(e){if(e.destination){if(e.source.index>e.destination.index)return y("danger"),h(!0),void f(" Ce mouvement n'est pas autoris\xe9.");console.log(e.source),console.log("destination : "+e.destination);var c=Array.from(n),t=c.splice(e.source.index,1),i=Object(o.a)(t,1)[0];c.splice(e.destination.index,0,i),s(c)}},children:Object(u.jsx)(j.c,{droppableId:"boxes",children:function(e){return Object(u.jsxs)("div",Object(r.a)(Object(r.a)({className:"boxes"},e.droppableProps),{},{ref:e.innerRef,children:[n.map((function(e,c){return Object(u.jsx)(j.b,{draggableId:""+c,index:c,children:function(c){return Object(u.jsxs)("div",Object(r.a)(Object(r.a)(Object(r.a)({className:"box",ref:c.innerRef},c.draggableProps),c.dragHandleProps),{},{children:[Object(u.jsx)("div",{className:"parent",children:Object(u.jsx)(p,{children:e.city})}),e.marques.map((function(e){return Object(u.jsx)("div",{className:"fils",children:Object(u.jsxs)("div",{className:"ligne",children:[Object(u.jsx)(p,{children:e.marque.nom}),Object(u.jsx)(p,{children:e.nb_employe})]})})}))]}))}},c)})),e.placeholder]}))}})})})]})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.d02cd21f.chunk.js.map