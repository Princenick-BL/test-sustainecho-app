{"code":"(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{43:function(e,c,n){},49:function(e,c,n){\"use strict\";n.r(c);var t=n(0),s=n.n(t),i=n(3),a=n.n(i),r=n(5),o=n(4),l=n(19),d=n.n(l),j=n(6),u=(n(43),n(1));function p(e){var c=e.children;return Object(u.jsx)(\"div\",{className:\"feuille\",children:c})}function b(e){var c=function(){e.callback(!1)};return Object(u.jsx)(u.Fragment,{children:e.showPopup&&Object(u.jsx)(\"div\",{className:\"popup\",children:Object(u.jsxs)(\"div\",{className:\"popup-alert\",children:[Object(u.jsx)(\"div\",{className:\"popup-dimiss\",onClick:function(e){c()},children:\"\\u2715\"}),Object(u.jsx)(\"div\",{className:\"popup-text\",children:e.message}),Object(u.jsx)(\"div\",{className:\"popup-btn \"+(\"danger\"===e.popupType?\"danger\":\"safe\"),children:Object(u.jsx)(\"div\",{onClick:function(e){c()},children:\"OK\"})})]})})})}var h=function(){var e=Object(t.useState)([]),c=Object(o.a)(e,2),n=c[0],s=c[1],i=Object(t.useState)(!0),a=Object(o.a)(i,2),l=a[0],h=a[1],O=Object(t.useState)(\"Bonjour!!! Bienvenu sur mon texte technique. Prenez plaisir \\xe0 le d\\xe9couvrir.\"),m=Object(o.a)(O,2),x=m[0],f=m[1],v=Object(t.useState)(\"\"),g=Object(o.a)(v,2),N=g[0],y=g[1];return Object(t.useEffect)((function(){s([]),y(\"safe\"),d.a.get(\"http://localhost:8000/employes\").then((function(e){var c=[],n=\"\",t=[];e.data.map((function(e){n!==e.ville.nom&&(0!==t.length&&(c.push({city:n,marques:t}),t=[]),n=e.ville.nom),t.push(e)})),c.push({city:n,marques:t}),s(c)}))}),[]),Object(u.jsxs)(\"div\",{className:\"App\",children:[Object(u.jsx)(b,{showPopup:l,callback:function(e){h(e)},message:x,popupType:N}),Object(u.jsxs)(\"header\",{className:\"header\",children:[Object(u.jsx)(\"div\",{children:\"Test technique SustainEcho\"}),Object(u.jsx)(\"div\",{children:\"Prince Nick BALLO\"})]}),Object(u.jsx)(\"main\",{className:\"body\",children:Object(u.jsx)(j.a,{onDragEnd:function(e){if(e.destination){if(e.source.index>e.destination.index)return y(\"danger\"),h(!0),void f(\" Ce mouvement n'est pas autoris\\xe9.\");console.log(e.source),console.log(\"destination : \"+e.destination);var c=Array.from(n),t=c.splice(e.source.index,1),i=Object(o.a)(t,1)[0];c.splice(e.destination.index,0,i),s(c)}},children:Object(u.jsx)(j.c,{droppableId:\"boxes\",children:function(e){return Object(u.jsxs)(\"div\",Object(r.a)(Object(r.a)({className:\"boxes\"},e.droppableProps),{},{ref:e.innerRef,children:[n.map((function(e,c){return Object(u.jsx)(j.b,{draggableId:\"\"+c,index:c,children:function(c){return Object(u.jsxs)(\"div\",Object(r.a)(Object(r.a)(Object(r.a)({className:\"box\",ref:c.innerRef},c.draggableProps),c.dragHandleProps),{},{children:[Object(u.jsx)(\"div\",{className:\"parent\",children:Object(u.jsx)(p,{children:e.city})}),e.marques.map((function(e){return Object(u.jsx)(\"div\",{className:\"fils\",children:Object(u.jsxs)(\"div\",{className:\"ligne\",children:[Object(u.jsx)(p,{children:e.marque.nom}),Object(u.jsx)(p,{children:e.nb_employe})]})})}))]}))}},c)})),e.placeholder]}))}})})})]})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById(\"root\"))}},[[49,1,2]]]);","name":"static/js/main.d02cd21f.chunk.js","map":{"version":3,"sources":["static/js/main.d02cd21f.chunk.js"],"names":["this","push","43","module","exports","__webpack_require__","49","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","slicedToArray","axios","axios_default","react_beautiful_dnd_esm","jsx_runtime","feuille","_ref","children","Object","className","popup","props","close","callback","showPopup","onClick","e","message","popupType","src_App","_useState","_useState2","donnees","setstate","_useState3","_useState4","setShowPopup","_useState5","_useState6","popupMessage","setPopupMessage","_useState7","_useState8","setPopupType","a","get","then","response","data","latestCity","marquesdata","map","item","ville","nom","length","city","marques","state","onDragEnd","result","destination","source","index","console","log","items","Array","from","_items$splice","splice","reorderedItem","droppableId","provided","droppableProps","ref","innerRef","draggableId","draggableProps","dragHandleProps","marque","nb_employe","placeholder","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpapp\"] = this[\"webpackJsonpapp\"] || []).push([[0],{\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(3);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(19);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js + 37 modules\nvar react_beautiful_dnd_esm = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/feuille.js\nfunction feuille(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"feuille\",children:children});}\n// CONCATENATED MODULE: ./src/components/popup.js\nfunction popup(props){var close=function close(){props.callback(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:props.showPopup&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup-alert\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup-dimiss\",onClick:function onClick(e){close();},children:\"\\u2715\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup-text\",children:props.message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup-btn \"+(props.popupType===\"danger\"?\"danger\":\"safe\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:function onClick(e){close();},children:\"OK\"})})]})})});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),donnees=_useState2[0],setstate=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showPopup=_useState4[0],setShowPopup=_useState4[1];var _useState5=Object(react[\"useState\"])(\"Bonjour!!! Bienvenu sur mon texte technique. Prenez plaisir à le découvrir.\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),popupMessage=_useState6[0],setPopupMessage=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),popupType=_useState8[0],setPopupType=_useState8[1];Object(react[\"useEffect\"])(function(){setstate([]);setPopupType(\"safe\");axios_default.a.get('http://localhost:8000/employes').then(function(response){var data=[];var latestCity=\"\";var marquesdata=[];response.data.map(function(item){if(latestCity!==item.ville.nom){if(marquesdata.length!==0){data.push({city:latestCity,marques:marquesdata});marquesdata=[];}latestCity=item.ville.nom;}marquesdata.push(item);});data.push({city:latestCity,marques:marquesdata});setstate(data);});},[]);var handleOnDragEnd=function handleOnDragEnd(result){if(!result.destination)return;if(result.source.index>result.destination.index){setPopupType(\"danger\");setShowPopup(true);setPopupMessage(\" Ce mouvement n'est pas autorisé.\");return;}console.log(result.source);console.log(\"destination : \"+result.destination);var items=Array.from(donnees);var _items$splice=items.splice(result.source.index,1),_items$splice2=Object(slicedToArray[\"a\" /* default */])(_items$splice,1),reorderedItem=_items$splice2[0];items.splice(result.destination.index,0,reorderedItem);setstate(items);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(popup,{showPopup:showPopup,callback:function callback(state){setShowPopup(state);},message:popupMessage,popupType:popupType}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Test technique SustainEcho\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Prince Nick BALLO\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:\"body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"a\" /* DragDropContext */],{onDragEnd:handleOnDragEnd,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"c\" /* Droppable */],{droppableId:\"boxes\",children:function children(provided){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"boxes\"},provided.droppableProps),{},{ref:provided.innerRef,children:[donnees.map(function(items,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_beautiful_dnd_esm[\"b\" /* Draggable */],{draggableId:\"\"+index,index:index,children:function children(provided){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"box\",ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"parent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(feuille,{children:items.city})}),items.marques.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fils\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ligne\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(feuille,{children:item.marque.nom}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(feuille,{children:item.nb_employe})]})});})]}));}},index);}),provided.placeholder]}));}})})})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n/***/ })\n\n},[[49,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/prince/Formation Perso/test-sustainecho/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/prince/Formation Perso/test-sustainecho/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/prince/Formation Perso/test-sustainecho/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/prince/Formation Perso/test-sustainecho/frontend/src/App.css","/home/prince/Formation Perso/test-sustainecho/frontend/src/components/feuille.js","/home/prince/Formation Perso/test-sustainecho/frontend/src/components/popup.js","/home/prince/Formation Perso/test-sustainecho/frontend/src/App.js","/home/prince/Formation Perso/test-sustainecho/frontend/src/index.js"],"names":["feuille","children","popup","props","close","callback","showPopup","e","message","popupType","App","useState","donnees","setstate","setShowPopup","popupMessage","setPopupMessage","setPopupType","useEffect","axios","get","then","response","data","latestCity","marquesdata","map","item","ville","nom","length","push","city","marques","handleOnDragEnd","result","destination","source","index","console","log","items","Array","from","splice","reorderedItem","state","provided","droppableProps","innerRef","draggableProps","dragHandleProps","marque","nb_employe","placeholder","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react'\n\nexport default function feuille({children}) {\n    return (\n        <div className=\"feuille\">\n            {children}\n        </div>\n    )\n}\n","import React ,{useState} from 'react'\n\nexport default function popup(props) {\n\n    const close=()=>{\n        props.callback(false)\n    }\n\n    return (\n        <>\n            {props.showPopup && \n                <div className=\"popup\">\n                    <div className=\"popup-alert\">\n                        <div className=\"popup-dimiss\" onClick={(e)=>{close()}}>&#x2715;</div>\n                        <div className=\"popup-text\">{props.message}</div>\n                        <div className={\"popup-btn \"+(props.popupType === \"danger\" ? \"danger\":\"safe\")}>\n                            <div onClick={(e)=>{close()}}>OK</div>\n                        </div>\n                    </div>\n                </div>\n            }\n        </>\n\n    )\n}\n","import { useState ,useEffect} from 'react';\nimport axios from 'axios'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nimport './App.css';\nimport Feuille from './components/feuille';\nimport Popup from './components/popup';\n\nfunction App() {\n\n  const [donnees, setstate] = useState([])\n  const [showPopup,setShowPopup]=useState(true)\n  const [popupMessage,setPopupMessage]=useState(\"Bonjour!!! Bienvenu sur mon texte technique. Prenez plaisir à le découvrir.\")\n  const [popupType,setPopupType]=useState(\"\")\n\n  useEffect(()=>{\n    setstate([])\n    setPopupType(\"safe\")\n    \n    axios.get('http://localhost:8000/employes')\n    .then(response => {\n\n      let data = []\n      let latestCity=\"\"\n      let marquesdata=[]\n\n      response.data.map((item) => {\n\n        if(latestCity!==item.ville.nom){\n\n          \n          if(marquesdata.length!==0){\n            \n            data.push({city:latestCity,marques: marquesdata})\n            \n            marquesdata=[]\n            \n          }\n\n          latestCity=item.ville.nom\n\n        }\n\n        marquesdata.push(item)\n\n      })\n      data.push({city:latestCity,marques: marquesdata})\n\n\n      setstate(data)\n\n    })\n\n  },[])\n\n  const handleOnDragEnd =(result)=>{\n    if (!result.destination) return;\n    if(result.source.index > result.destination.index){\n      setPopupType(\"danger\")\n      setShowPopup(true)\n      setPopupMessage(\" Ce mouvement n'est pas autorisé.\")\n      return;\n    } \n    console.log(result.source)\n    console.log(\"destination : \"+result.destination)\n    const items = Array.from(donnees);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n    \n    setstate(items);\n  }\n\n\n\n\n  \n  \n  return (\n    <div className=\"App\">\n      <Popup\n        showPopup={showPopup}\n        callback = {(state)=>{setShowPopup(state)}}\n        message = {popupMessage}\n        popupType = {popupType}\n      />\n      <header className=\"header\">\n        <div>Test technique SustainEcho</div>\n        <div>Prince Nick BALLO</div>\n\n      </header>\n      <main className=\"body\">\n        <DragDropContext onDragEnd={handleOnDragEnd}>\n          <Droppable droppableId=\"boxes\" >\n            {(provided)=>(\n\n              <div className=\"boxes\" {...provided.droppableProps} ref={provided.innerRef}>\n                {donnees.map((items,index) => {\n                  return(\n                    <Draggable  key={index} draggableId={\"\"+index} index={index} >\n                      {(provided)=>(\n                        <div className=\"box\" ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                          <div className=\"parent\"><Feuille>{items.city}</Feuille></div>\n                          {items.marques.map((item) => {\n                            return(\n                              <div className=\"fils\">\n                                <div  className=\"ligne\">\n                                  <Feuille>{item.marque.nom}</Feuille>\n                                  <Feuille>{item.nb_employe}</Feuille>\n                                </div>\n                              </div>\n                            )})\n                          }\n                        </div>\n\n                      )}\n                    </Draggable>\n                    \n                  )})\n                }\n                {provided.placeholder}\n                \n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n   \n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"]}}